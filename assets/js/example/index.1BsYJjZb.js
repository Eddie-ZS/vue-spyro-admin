import{_ as R}from"../SoCard/SoCard.BHe-qyB5.js";import{a6 as A,bx as E,A as $,by as j}from"../index-CeRSjNe-.js";/* empty css                                   */import{d as I,aW as G,c as r,bd as h,H as n,an as t,ao as s,am as i,ar as H,N as l,j as a,aD as o,at as v,ak as c}from"../.pnpm/.pnpm.B8Y_MyBh.js";import"../card/card.ePU9p1oD.js";import"../_plugin-vue_export-helper/_plugin-vue_export-helper.DlAUqK2U.js";const O={class:"text-6"},T=i("h1",{class:"text-6"},"指令v-permissions 和 v-roles",-1),U=i("h1",{class:"text-6"},"函数usePermission",-1),M=I({name:"Example",__name:"index",setup(W){const x=G(),u=A(),{hasPermissions:w,hasRoles:d}=E(),b=r(()=>u.roles.toString()),N=r(()=>d(["admin"])),V=r(()=>d(["common"])),g=r(()=>d(["normal","common"])),B=r(()=>w(["system:permissions:view"])),P={admin:"*:*:*",common:"system:permissions:view",normal:""},k=()=>x.push({name:"PermVisible"}),_=p=>{u.userInfo.roles=[p],u.userInfo.permissions=[P[p]]};return(p,m)=>{const e=$,f=j,S=R,C=h("roles"),D=h("permissions");return n(),t(S,{title:"权限示例",class:"h-full"},{default:s(()=>[i("div",null,[i("div",null,[i("h1",O,"当前角色: "+H(l(b)),1),a(f,{class:"m-4"},{default:s(()=>[a(e,{onClick:m[0]||(m[0]=y=>_("admin"))},{default:s(()=>[o("admin")]),_:1}),a(e,{onClick:m[1]||(m[1]=y=>_("common"))},{default:s(()=>[o("common")]),_:1}),a(e,{onClick:m[2]||(m[2]=y=>_("normal"))},{default:s(()=>[o("normal")]),_:1})]),_:1})]),i("div",null,[T,a(f,{class:"m-4"},{default:s(()=>[v((n(),t(e,null,{default:s(()=>[o("仅admin可见")]),_:1})),[[C,["admin"]]]),v((n(),t(e,null,{default:s(()=>[o("common")]),_:1})),[[C,["common"]]]),v((n(),t(e,{onClick:k},{default:s(()=>[o(" 具有 ['system:permissions:view'] 权限可访问 ")]),_:1})),[[D,["system:permissions:view"]]])]),_:1})]),i("div",null,[U,a(f,{class:"m-4"},{default:s(()=>[l(N)?(n(),t(e,{key:0},{default:s(()=>[o("仅admin可见")]),_:1})):c("",!0),l(V)?(n(),t(e,{key:1},{default:s(()=>[o("common可见")]),_:1})):c("",!0),l(g)?(n(),t(e,{key:2},{default:s(()=>[o("common和normal可见")]),_:1})):c("",!0),l(B)?(n(),t(e,{key:3,onClick:k},{default:s(()=>[o("具有 ['system:permissions:view'] 权限可访问")]),_:1})):c("",!0)]),_:1})])])]),_:1})}}});export{M as default};
