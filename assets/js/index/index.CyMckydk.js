import{a as M,u as E,E as W}from"./index.Cl3gLZpv.js";import{c as H,H as T,u as j,h as G,k as K,bc as Q,w as J}from"../index-z4oZt0PI.js";import{d as B}from"../useIcon/useIcon.DIUf5HIV.js";import{p as U,a3 as w,A as S,F as y,r as P,am as X,an as x,s as Y,ak as Z,ar as q,ai as L,aa as z,aF as _,ab as ee,I as $,J as te,K as ne,D as re}from"../.pnpm/.pnpm.CNWdlwhF.js";import{t as F,n as oe,a as O,i as V,b as C,c as se,d as ae,e as le}from"./index.PpRHUfl1.js";const ie=H({trigger:M.trigger,placement:B.placement,disabled:M.disabled,visible:E.visible,transition:E.transition,popperOptions:B.popperOptions,tabindex:B.tabindex,content:E.content,popperStyle:E.popperStyle,popperClass:E.popperClass,enterable:{...E.enterable,default:!0},effect:{...E.effect,default:"light"},teleported:E.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),ue={"update:visible":o=>T(o),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},ce="onUpdate:visible",pe=U({name:"ElPopover"}),de=U({...pe,props:ie,emits:ue,setup(o,{expose:r,emit:e}){const c=o,s=w(()=>c[ce]),l=j("popover"),i=S(),p=w(()=>{var a;return(a=y(i))==null?void 0:a.popperRef}),f=w(()=>[{width:G(c.width)},c.popperStyle]),m=w(()=>[l.b(),c.popperClass,{[l.m("plain")]:!!c.content}]),n=w(()=>c.transition===`${l.namespace.value}-fade-in-linear`),t=()=>{var a;(a=i.value)==null||a.hide()},d=()=>{e("before-enter")},v=()=>{e("before-leave")},h=()=>{e("after-enter")},g=()=>{e("update:visible",!1),e("after-leave")};return r({popperRef:p,hide:t}),(a,u)=>(P(),X(y(W),ee({ref_key:"tooltipRef",ref:i},a.$attrs,{trigger:a.trigger,placement:a.placement,disabled:a.disabled,visible:a.visible,transition:a.transition,"popper-options":a.popperOptions,tabindex:a.tabindex,content:a.content,offset:a.offset,"show-after":a.showAfter,"hide-after":a.hideAfter,"auto-close":a.autoClose,"show-arrow":a.showArrow,"aria-label":a.title,effect:a.effect,enterable:a.enterable,"popper-class":y(m),"popper-style":y(f),teleported:a.teleported,persistent:a.persistent,"gpu-acceleration":y(n),"onUpdate:visible":y(s),onBeforeShow:d,onBeforeHide:v,onShow:h,onHide:g}),{content:x(()=>[a.title?(P(),Y("div",{key:0,class:Z(y(l).e("title")),role:"title"},q(a.title),3)):L("v-if",!0),z(a.$slots,"default",{},()=>[_(q(a.content),1)])]),default:x(()=>[a.$slots.reference?z(a.$slots,"reference",{key:0}):L("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var fe=K(de,[["__file","popover.vue"]]);const I=(o,r)=>{const e=r.arg||r.value,c=e==null?void 0:e.popperRef;c&&(c.triggerRef=o)};var ve={mounted(o,r){I(o,r)},updated(o,r){I(o,r)}};const he="popover",me=Q(ve,he),Ae=J(fe,{directive:me});function b(o){var r;const e=F(o);return(r=e==null?void 0:e.$el)!=null?r:e}const k=V?window:void 0,we=V?window.document:void 0;function N(...o){let r,e,c,s;if(typeof o[0]=="string"||Array.isArray(o[0])?([e,c,s]=o,r=k):[r,e,c,s]=o,!r)return O;Array.isArray(e)||(e=[e]),Array.isArray(c)||(c=[c]);const l=[],i=()=>{l.forEach(n=>n()),l.length=0},p=(n,t,d,v)=>(n.addEventListener(t,d,v),()=>n.removeEventListener(t,d,v)),f=$(()=>[b(r),F(s)],([n,t])=>{if(i(),!n)return;const d=se(t)?{...t}:t;l.push(...e.flatMap(v=>c.map(h=>p(n,v,h,d))))},{immediate:!0,flush:"post"}),m=()=>{f(),i()};return C(m),m}function be(){const o=S(!1),r=te();return r&&ne(()=>{o.value=!0},r),o}function R(o){const r=be();return w(()=>(r.value,!!o()))}function A(o,r={}){const{window:e=k}=r,c=R(()=>e&&"matchMedia"in e&&typeof e.matchMedia=="function");let s;const l=S(!1),i=m=>{l.value=m.matches},p=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",i):s.removeListener(i))},f=re(()=>{c.value&&(p(),s=e.matchMedia(F(o)),"addEventListener"in s?s.addEventListener("change",i):s.addListener(i),l.value=s.matches)});return C(()=>{f(),p(),s=void 0}),l}const Ce={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function Oe(o,r={}){function e(n,t){let d=F(o[F(n)]);return t!=null&&(d=ae(d,t)),typeof d=="number"&&(d=`${d}px`),d}const{window:c=k,strategy:s="min-width"}=r;function l(n){return c?c.matchMedia(n).matches:!1}const i=n=>A(()=>`(min-width: ${e(n)})`,r),p=n=>A(()=>`(max-width: ${e(n)})`,r),f=Object.keys(o).reduce((n,t)=>(Object.defineProperty(n,t,{get:()=>s==="min-width"?i(t):p(t),enumerable:!0,configurable:!0}),n),{});function m(){const n=Object.keys(o).map(t=>[t,i(t)]);return w(()=>n.filter(([,t])=>t.value).map(([t])=>t))}return Object.assign(f,{greaterOrEqual:i,smallerOrEqual:p,greater(n){return A(()=>`(min-width: ${e(n,.1)})`,r)},smaller(n){return A(()=>`(max-width: ${e(n,-.1)})`,r)},between(n,t){return A(()=>`(min-width: ${e(n)}) and (max-width: ${e(t,-.1)})`,r)},isGreater(n){return l(`(min-width: ${e(n,.1)})`)},isGreaterOrEqual(n){return l(`(min-width: ${e(n)})`)},isSmaller(n){return l(`(max-width: ${e(n,-.1)})`)},isSmallerOrEqual(n){return l(`(max-width: ${e(n)})`)},isInBetween(n,t){return l(`(min-width: ${e(n)}) and (max-width: ${e(t,-.1)})`)},current:m,active(){const n=m();return w(()=>n.value.length===0?"":n.value.at(-1))}})}function ge(o,r,e={}){const{window:c=k,...s}=e;let l;const i=R(()=>c&&"ResizeObserver"in c),p=()=>{l&&(l.disconnect(),l=void 0)},f=w(()=>Array.isArray(o)?o.map(t=>b(t)):[b(o)]),m=$(f,t=>{if(p(),i.value&&c){l=new ResizeObserver(r);for(const d of t)d&&l.observe(d,s)}},{immediate:!0,flush:"post"}),n=()=>{p(),m()};return C(n),{isSupported:i,stop:n}}function $e(o,r={width:0,height:0},e={}){const{window:c=k,box:s="content-box"}=e,l=w(()=>{var t,d;return(d=(t=b(o))==null?void 0:t.namespaceURI)==null?void 0:d.includes("svg")}),i=S(r.width),p=S(r.height),{stop:f}=ge(o,([t])=>{const d=s==="border-box"?t.borderBoxSize:s==="content-box"?t.contentBoxSize:t.devicePixelContentBoxSize;if(c&&l.value){const v=b(o);if(v){const h=v.getBoundingClientRect();i.value=h.width,p.value=h.height}}else if(d){const v=Array.isArray(d)?d:[d];i.value=v.reduce((h,{inlineSize:g})=>h+g,0),p.value=v.reduce((h,{blockSize:g})=>h+g,0)}else i.value=t.contentRect.width,p.value=t.contentRect.height},e);le(()=>{const t=b(o);t&&(i.value="offsetWidth"in t?t.offsetWidth:r.width,p.value="offsetHeight"in t?t.offsetHeight:r.height)});const m=$(()=>b(o),t=>{i.value=t?r.width:0,p.value=t?r.height:0});function n(){f(),m()}return{width:i,height:p,stop:n}}function Re(o,r,e={}){const{root:c,rootMargin:s="0px",threshold:l=.1,window:i=k,immediate:p=!0}=e,f=R(()=>i&&"IntersectionObserver"in i),m=w(()=>{const h=F(o);return(Array.isArray(h)?h:[h]).map(b).filter(oe)});let n=O;const t=S(p),d=f.value?$(()=>[m.value,b(c),t.value],([h,g])=>{if(n(),!t.value||!h.length)return;const a=new IntersectionObserver(r,{root:b(g),rootMargin:s,threshold:l});h.forEach(u=>u&&a.observe(u)),n=()=>{a.disconnect(),n=O}},{immediate:p,flush:"post"}):O,v=()=>{n(),d(),t.value=!1};return C(v),{isSupported:f,isActive:t,pause(){n(),t.value=!1},resume(){t.value=!0},stop:v}}const D=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function Be(o,r={}){const{document:e=we,autoExit:c=!1}=r,s=w(()=>{var u;return(u=b(o))!=null?u:e==null?void 0:e.querySelector("html")}),l=S(!1),i=w(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(u=>e&&u in e||s.value&&u in s.value)),p=w(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(u=>e&&u in e||s.value&&u in s.value)),f=w(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(u=>e&&u in e||s.value&&u in s.value)),m=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(u=>e&&u in e),n=R(()=>s.value&&e&&i.value!==void 0&&p.value!==void 0&&f.value!==void 0),t=()=>m?(e==null?void 0:e[m])===s.value:!1,d=()=>{if(f.value){if(e&&e[f.value]!=null)return e[f.value];{const u=s.value;if((u==null?void 0:u[f.value])!=null)return!!u[f.value]}}return!1};async function v(){if(!(!n.value||!l.value)){if(p.value)if((e==null?void 0:e[p.value])!=null)await e[p.value]();else{const u=s.value;(u==null?void 0:u[p.value])!=null&&await u[p.value]()}l.value=!1}}async function h(){if(!n.value||l.value)return;d()&&await v();const u=s.value;i.value&&(u==null?void 0:u[i.value])!=null&&(await u[i.value](),l.value=!0)}async function g(){await(l.value?v():h())}const a=()=>{const u=d();(!u||u&&t())&&(l.value=u)};return N(e,D,a,!1),N(()=>b(s),D,a,!1),c&&C(v),{isSupported:n,isFullscreen:l,enter:h,exit:v,toggle:g}}export{Ae as E,$e as a,Be as b,ge as c,Oe as d,Ce as e,Re as f,N as u};
