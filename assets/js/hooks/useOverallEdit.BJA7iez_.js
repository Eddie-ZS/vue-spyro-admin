import{ax as u,ap as a,aF as p,x as c,K as V,a2 as b}from"../.pnpm/.pnpm.CNWdlwhF.js";import{D as r,E as i}from"../index-z4oZt0PI.js";import{a as f,E as h}from"../index/index.BVY5SEfG.js";import"../index/index.Cl3gLZpv.js";import"../index/index.Cw13HvQA.js";import"../strings/strings.BKv9SlKM.js";function x(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!b(n)}const j=()=>{const n=u([{dictLabel:"男",dictValue:"male"},{dictLabel:"女",dictValue:"female"}]),m={username:"",nickname:"",sex:"male",phone:"",email:""},t=u({columns:[{type:"index",label:"序号",width:"55"},{prop:"username",label:"用户名",overflowConfig:{initiate:!0},renderer:({row:e})=>a(r,{modelValue:e.username,"onUpdate:modelValue":l=>e.username=l},null)},{prop:"nickname",label:"昵称",renderer:({row:e})=>a(r,{modelValue:e.nickname,"onUpdate:modelValue":l=>e.nickname=l},null)},{prop:"sex",label:"性别",renderer:({row:e})=>{let l;return a(h,{modelValue:e.sex,"onUpdate:modelValue":o=>e.sex=o},x(l=n.map(o=>a(f,{key:o.dictValue,label:o.dictLabel,value:o.dictValue},null)))?l:{default:()=>[l]})}},{prop:"phone",label:"手机号",renderer:({row:e})=>a(r,{modelValue:e.phone,"onUpdate:modelValue":l=>e.phone=l},null)},{prop:"email",label:"邮箱",renderer:({row:e})=>a(r,{modelValue:e.email,"onUpdate:modelValue":l=>e.email=l},null)},{prop:"operation",label:"操作",renderer:({$index:e})=>a("span",null,[t.data.length-1===e||t.data.length===1?a(i,{type:"primary",link:!0,onClick:()=>d()},{default:()=>[p("新增")]}):void 0,t.data.length>1?a(i,{type:"primary",link:!0,onClick:()=>s(e)},{default:()=>[p("删除")]}):void 0])}],data:[]}),d=()=>{const e=c.clone(m,!0);t.data.push(e)},s=e=>{t.data.splice(e,1)};return V(()=>{d()}),{columnProp:t}};export{j as useOverallEdit};
