import{W as u,T as a,bj as d,ar as c,am as V,X as p,Y as i,x as b,_ as f,aI as h}from"./.pnpm-D59sYBvj.js";function k(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!h(t)}const y=()=>{const t=u([{dictLabel:"男",dictValue:"male"},{dictLabel:"女",dictValue:"female"}]),s={username:"",nickname:"",sex:"male",phone:"",email:""},n=u({columns:[{type:"index",label:"序号",width:"55"},{prop:"username",label:"用户名",overflowConfig:{initiate:!0},renderer:({row:e})=>a(d,{modelValue:e.username,"onUpdate:modelValue":l=>e.username=l},null)},{prop:"nickname",label:"昵称",renderer:({row:e})=>a(d,{modelValue:e.nickname,"onUpdate:modelValue":l=>e.nickname=l},null)},{prop:"sex",label:"性别",renderer:({row:e})=>{let l;return a(V,{modelValue:e.sex,"onUpdate:modelValue":o=>e.sex=o},k(l=t.map(o=>a(c,{key:o.dictValue,label:o.dictLabel,value:o.dictValue},null)))?l:{default:()=>[l]})}},{prop:"phone",label:"手机号",renderer:({row:e})=>a(d,{modelValue:e.phone,"onUpdate:modelValue":l=>e.phone=l},null)},{prop:"email",label:"邮箱",renderer:({row:e})=>a(d,{modelValue:e.email,"onUpdate:modelValue":l=>e.email=l},null)},{prop:"operation",label:"操作",renderer:({$index:e})=>a("span",null,[n.data.length-1===e||n.data.length===1?a(p,{type:"primary",link:!0,onClick:()=>r()},{default:()=>[i("新增")]}):void 0,n.data.length>1?a(p,{type:"primary",link:!0,onClick:()=>m(e)},{default:()=>[i("删除")]}):void 0])}],data:[]}),r=()=>{const e=b.clone(s,!0);n.data.push(e)},m=e=>{n.data.splice(e,1)};return f(()=>{r()}),{columnProp:n}};export{y as useOverallEdit};
