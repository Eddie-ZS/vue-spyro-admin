var Ze=Object.defineProperty,et=Object.defineProperties;var tt=Object.getOwnPropertyDescriptors;var Pe=Object.getOwnPropertySymbols;var lt=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable;var Ae=(o,t,n)=>t in o?Ze(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,J=(o,t)=>{for(var n in t||(t={}))lt.call(t,n)&&Ae(o,n,t[n]);if(Pe)for(var n of Pe(t))nt.call(t,n)&&Ae(o,n,t[n]);return o},Q=(o,t)=>et(o,tt(t));var xe=(o,t,n)=>new Promise((r,c)=>{var i=u=>{try{_(n.next(u))}catch(p){c(p)}},a=u=>{try{_(n.throw(u))}catch(p){c(p)}},_=u=>u.done?r(u.value):Promise.resolve(u.value).then(i,a);_((n=n.apply(o,t)).next())});import{K as C,H as L,T as e,ae as q,J as l,z as A,af as de,ag as pe,ah as ot,P as d,Q as M,R as m,a7 as s,Y as W,a0 as k,a5 as T,a9 as U,Z as R,$ as ne,a6 as me,ai as Se,aj as at,ak as st,al as rt,am as ct,a1 as it,an as G,ao as ut,ap as dt,aq as Y,ar as pt,as as mt,_ as Te,at as ht,a8 as Ue,au as _t,O as Be,av as ft,aa as De,aw as B,ax as He,ay as bt,az as vt,aA as Ne,aB as gt,aC as wt,t as N,aD as yt,aE as xt,aF as Ct,aG as Ce,aH as kt,aI as Mt,aJ as he,aK as $t,aL as ue,aM as St,W as Tt,aN as Vt,I as zt,aO as Lt,aP as It,aQ as Ve,aR as ze,aS as Le,ac as je,aT as Ie,ad as qe,aU as Et,aV as Pt,aW as At,aX as We,aY as Rt,aZ as Ot,a_ as Ft,C as Ut,a$ as Bt,b0 as j,b1 as oe,b2 as Dt,b3 as Ht,b4 as Nt}from"./.pnpm-D59sYBvj.js";import{_ as P,p as Re}from"./Icon.vue_vue_type_script_lang-EAei3ndZ.js";import{u as te,a as _e,c as jt,d as we,e as D,i as ge,t as le,f as Ee,h as ke,j as qt,r as Ye,k as Wt}from"./index-DvL1AnUh.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as Yt}from"./useIcon-CCOGsOky.js";import{_ as Gt}from"./avatar-GQrghAD1.js";const Xt=C({name:"LayoutSelect",setup(){const o=te(),t=L(()=>o.layout),n=L(()=>o.darkMenu),r=document.documentElement,c=i=>{l(n)&&(["horizontal","basic","mixins"].includes(i)?r.removeAttribute("data-theme"):r.setAttribute("data-theme","menu-dark")),o.$patch({layout:i})};return()=>e("div",{class:"flex-center flex-wrap gap-x-8 gap-y-4"},[e(q,{effect:"dark",content:"纵向模式",placement:"bottom"},{default:()=>[e("div",{class:["w-25 h-17 p-1 shadow-[var(--el-box-shadow-lighter)] rounded-1 flex gap-x-1 cursor-pointer b-2 hover:b-primary",l(t)==="vertical"?"b-primary":"b-transparent"],onClick:()=>c("vertical")},[e("div",{class:"w-6 h-full rounded-1 bg-[var(--el-color-primary-light-4)]"},null),e("div",{class:"w-full flex-col gap-y-1"},[e("div",{class:"w-full h-3 bg-[var(--el-color-primary-light-7)] rounded-1"},null),e("div",{class:"w-full flex-1 bg-[var(--el-color-primary-light-9)] rounded-1"},null)])])]}),e(q,{effect:"dark",content:"经典模式",placement:"bottom"},{default:()=>[e("div",{class:["w-25 h-17 p-1 shadow-[var(--el-box-shadow-lighter)] rounded-1 flex-col gap-y-1 cursor-pointer b-2 hover:b-primary",l(t)==="basic"?"b-primary":"b-transparent"],onClick:()=>c("basic")},[e("div",{class:"w-full h-3 bg-[var(--el-color-primary-light-7)] rounded-1"},null),e("div",{class:"w-full flex flex-1 gap-x-1"},[e("div",{class:"w-6 h-full rounded-1 bg-[var(--el-color-primary-light-4)]"},null),e("div",{class:"w-full h-full bg-[var(--el-color-primary-light-9)] rounded-1"},null)])])]}),e(q,{effect:"dark",content:"横向模式",placement:"bottom"},{default:()=>[e("div",{class:["w-25 h-17 p-1 shadow-[var(--el-box-shadow-lighter)] rounded-1 flex-col gap-y-1 cursor-pointer b-2 hover:b-primary",l(t)==="horizontal"?"b-primary":"b-transparent"],onClick:()=>c("horizontal")},[e("div",{class:"w-full h-3 bg-[var(--el-color-primary-light-4)] rounded-1"},null),e("div",{class:"w-full flex-1 bg-[var(--el-color-primary-light-9)] rounded-1"},null)])]}),e(q,{effect:"dark",content:"栅格模式",placement:"bottom"},{default:()=>[e("div",{class:["w-25 h-17 p-1 shadow-[var(--el-box-shadow-lighter)] rounded-1 flex gap-x-1 cursor-pointer b-2 hover:b-primary",l(t)==="lattice"?"b-primary":"b-transparent"],onClick:()=>c("lattice")},[e("div",{class:"w-2 h-full rounded-1 bg-[var(--el-color-primary-light-4)]"},null),e("div",{class:"w-5 h-full rounded-1 bg-[var(--el-color-primary-light-4)]"},null),e("div",{class:"flex-1 h-full flex-col gap-y-1"},[e("div",{class:"w-full h-3 bg-[var(--el-color-primary-light-7)] rounded-1"},null),e("div",{class:"w-full flex-1 bg-[var(--el-color-primary-light-9)] rounded-1"},null)])])]}),e(q,{effect:"dark",content:"混合模式",placement:"bottom"},{default:()=>[e("div",{class:["w-25 h-17 p-1 shadow-[var(--el-box-shadow-lighter)] rounded-1 flex-col gap-y-1 cursor-pointer b-2 hover:b-primary",l(t)==="mixins"?"b-primary":"b-transparent"],onClick:()=>c("mixins")},[e("div",{class:"w-full h-3 bg-[var(--el-color-primary-light-4)] rounded-1"},null),e("div",{class:"w-full flex flex-1 gap-x-1"},[e("div",{class:"w-6 h-full rounded-1 bg-[var(--el-color-primary-light-4)]"},null),e("div",{class:"w-full h-full bg-[var(--el-color-primary-light-9)] rounded-1"},null)])])]})])}}),Kt=()=>({predefineThemeColors:A(["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585"]),layoutModeOptions:[{label:"纵向",value:"vertical"},{label:"经典",value:"basic"},{label:"横向",value:"horizontal"},{label:"栅格",value:"lattice"},{label:"混合",value:"mixins"}],animateModeOptions:[{label:"默认",value:"zoom-fade"},{label:"滑动",value:"fade-slide"},{label:"渐变",value:"fade"},{label:"底部滑出",value:"fade-bottom"},{label:"缩放消退",value:"fade-scale"}],tabsStyleOptions:[{label:"卡片",value:"card"},{label:"灵动",value:"nimble"},{label:"圆滑",value:"smooth"}],colorModeOptions:[{icon:"line-md:computer",value:"auto"},{icon:"line-md:moon-alt-to-sunny-outline-loop-transition",value:"light"},{icon:"line-md:moon-alt-loop",value:"dark"}]}),Jt=()=>{let o=A(0),t=A(0),n=A(!1),r=A("");const c=_e(),i=de(),a=[{icon:"ep:refresh",label:"刷新页面",prop:"refresh",show:!0,disabled:!1},{icon:"ep:close",label:"关闭当前",prop:"closeCurrent",show:!0,disabled:!1},{icon:"ep:arrow-left",label:"关闭左侧",prop:"closeLeft",show:!0,disabled:!1},{icon:"ep:arrow-right",label:"关闭右侧",prop:"closeRight",show:!0,disabled:!1},{icon:"ep:switch",label:"关闭其他",prop:"closeOther",show:!0,disabled:!1},{icon:"ep:remove",label:"关闭所有",prop:"closeAll",show:!0,disabled:!1}],_=(p,b)=>{a.map(v=>{v.disabled=!1,v.show=!0});const h=c.tabsMenuList.findIndex(v=>v.path===p);i.fullPath!==p&&(a[0].show=!1),h===0&&(a[2].show=!1,a[2].disabled=!0,a[4].disabled=!0,a[5].disabled=!0),h===c.tabsMenuList.length-1&&(a[3].show=!1,a[3].disabled=!0),b&&(a[1].show=!1,a[2].show=!1,a[1].disabled=!0,a[2].disabled=!0),r.value=p},u=L(()=>({left:o.value+"px",top:t.value+"px"}));return pe(()=>n.value,()=>{ot(document,"click",()=>{n.value=!1})}),{contextMenuOptions:a,showContextMenu:n,clickTabMenu:r,menuClientX:o,menuClientY:t,menuStyle:u,filterTabMenu:_}},Qt=o=>(ut("data-v-6e6c5186"),o=o(),dt(),o),Zt={class:"p-5"},el={class:"drawer-item"},tl={class:"drawer-item"},ll={class:"flex-center w-full"},nl={class:"flex bg-[var(--el-fill-color)] px-1 py-1 b-rd-2"},ol=["onClick"],al={class:"drawer-item"},sl={class:"drawer-item"},rl={class:"drawer-item"},cl={class:"drawer-item"},il={class:"drawer-item"},ul={class:"drawer-item"},dl={class:"drawer-item"},pl={class:"drawer-item"},ml={class:"drawer-item"},hl={class:"drawer-item"},_l={class:"drawer-item"},fl={class:"drawer-item"},bl=Qt(()=>s("span",{class:"text-error text-3 p-l-2"},"清除缓存",-1)),vl=C({name:"LayoutDrawer"}),gl=C(Q(J({},vl),{setup(o){const t=te(),n=_e(),{switchDark:r,setThemeColor:c,setDarkMenu:i,setWeakNessMode:a,setGrayMode:_}=jt(),{predefineThemeColors:u,animateModeOptions:p,tabsStyleOptions:b,colorModeOptions:h}=Kt(),v=L(()=>!["horizontal","basic","mixins"].includes(t.layout)),g=f=>{c(f),t.setPlatFormTheme()},I=f=>{t.$patch({colorMode:f}),r()},$=()=>n.handlePersistTabs(),y=()=>_(),V=()=>a(),S=()=>{localStorage.clear(),window.location.reload()};return(f,x)=>{const K=at,fe=P,z=st,E=rt,H=pt,be=ct,ye=it,F=G;return d(),M(F,null,{default:m(()=>[s("div",Zt,[e(K,null,{default:m(()=>[W(k(f.$t("setting.layoutSetting")),1)]),_:1}),s("div",el,[e(Xt)]),e(K,null,{default:m(()=>[W(k(f.$t("setting.themeSetting")),1)]),_:1}),s("div",tl,[s("div",ll,[s("div",nl,[(d(!0),T(R,null,U(l(h),w=>(d(),T("div",{key:w.value,class:Y(["px-4.5 py-2 b-rd-2 flex-center cursor-pointer transition duration-200",{"bg-[var(--el-color-info-light-7)]":w.value===l(t).colorMode}]),onClick:In=>I(w.value)},[e(fe,{name:w.icon,size:20},null,8,["name"])],10,ol))),128))])])]),s("div",al,[s("span",null,k(f.$t("setting.themeColor")),1),e(z,{modelValue:l(t).themeColor,"onUpdate:modelValue":x[0]||(x[0]=w=>l(t).themeColor=w),"color-format":"hex",predefine:l(u),onChange:g},null,8,["modelValue","predefine"])]),e(Se,{name:"fade-slide",mode:"out-in"},{default:m(()=>[ne(s("div",sl,[s("span",null,k(f.$t("setting.darkMenu")),1),e(E,{modelValue:l(t).darkMenu,"onUpdate:modelValue":x[1]||(x[1]=w=>l(t).darkMenu=w),"inline-prompt":"",onChange:l(i)},null,8,["modelValue","onChange"])],512),[[me,l(l(v))]])]),_:1}),s("div",rl,[s("span",null,k(f.$t("setting.grayMode")),1),e(E,{modelValue:l(t).grayMode,"onUpdate:modelValue":x[2]||(x[2]=w=>l(t).grayMode=w),"inline-prompt":"",onChange:y},null,8,["modelValue"])]),s("div",cl,[s("span",null,k(f.$t("setting.weaknessMode")),1),e(E,{modelValue:l(t).weakness,"onUpdate:modelValue":x[3]||(x[3]=w=>l(t).weakness=w),"inline-prompt":"",onChange:V},null,8,["modelValue"])]),e(K,null,{default:m(()=>[W(k(f.$t("setting.interfaceSetting")),1)]),_:1}),s("div",il,[s("span",null,k(f.$t("setting.menuUnique")),1),e(E,{modelValue:l(t).menuUnique,"onUpdate:modelValue":x[4]||(x[4]=w=>l(t).menuUnique=w),"inline-prompt":""},null,8,["modelValue"])]),s("div",ul,[s("span",null,k(f.$t("setting.tabs")),1),e(E,{modelValue:l(t).tabsHidden,"onUpdate:modelValue":x[5]||(x[5]=w=>l(t).tabsHidden=w),"inline-prompt":""},null,8,["modelValue"])]),s("div",dl,[s("span",null,k(f.$t("setting.tabsStyle")),1),e(be,{modelValue:l(t).tabStyle,"onUpdate:modelValue":x[6]||(x[6]=w=>l(t).tabStyle=w),class:"w-full"},{default:m(()=>[(d(!0),T(R,null,U(l(b),w=>(d(),M(H,{key:w.value,label:w.label,value:w.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),s("div",pl,[s("span",null,k(f.$t("setting.tabsIcon")),1),e(E,{modelValue:l(t).tabsIcon,"onUpdate:modelValue":x[7]||(x[7]=w=>l(t).tabsIcon=w),"inline-prompt":""},null,8,["modelValue"])]),s("div",ml,[s("span",null,k(f.$t("setting.tabsCache")),1),e(E,{modelValue:l(t).tabsCache,"onUpdate:modelValue":x[8]||(x[8]=w=>l(t).tabsCache=w),"inline-prompt":"",onChange:$},null,8,["modelValue"])]),s("div",hl,[s("span",null,k(f.$t("setting.breadCrumb")),1),e(E,{modelValue:l(t).breadcrumbs,"onUpdate:modelValue":x[9]||(x[9]=w=>l(t).breadcrumbs=w),"inline-prompt":""},null,8,["modelValue"])]),s("div",_l,[s("span",null,k(f.$t("setting.breadCrumbIcon")),1),e(E,{modelValue:l(t).breadcrumbsIcon,"onUpdate:modelValue":x[10]||(x[10]=w=>l(t).breadcrumbsIcon=w),"inline-prompt":""},null,8,["modelValue"])]),s("div",fl,[s("span",null,k(f.$t("setting.animateMode")),1),e(be,{modelValue:l(t).animateMode,"onUpdate:modelValue":x[11]||(x[11]=w=>l(t).animateMode=w),class:"w-full"},{default:m(()=>[(d(!0),T(R,null,U(l(p),w=>(d(),M(H,{key:w.value,label:w.label,value:w.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e(K,null,{default:m(()=>[W(k(f.$t("setting.tips")),1)]),_:1}),e(ye,{title:f.$t("setting.tipDesc"),type:"warning",closable:!1},null,8,["title"]),s("div",{class:"mt-2 p-2 cursor-pointer bg-[var(--el-color-error-light-9)] b-rounded flex-center",onClick:S},[e(fe,{name:"ep:delete",size:16,color:"var(--el-color-error)"}),bl])])]),_:1})}}})),wl=X(gl,[["__scopeId","data-v-6e6c5186"]]),Me=mt(),yl=C({__name:"index",setup(o){const t=A(!1);return Te(()=>{Me.on("OpenSystemConfig",()=>{t.value=!0})}),ht(()=>{Me.off("OpenSystemConfig")}),(n,r)=>{const c=_t;return d(),M(c,{class:"drawer","append-to-body":"",modelValue:l(t),"onUpdate:modelValue":r[0]||(r[0]=i=>Ue(t)?t.value=i:null),title:n.$t("setting.settings"),size:"320px",direction:"rtl"},{default:m(()=>[e(wl)]),_:1},8,["modelValue","title"])}}}),xl={class:"h-full p-4"},Cl=C({name:"AppMain"}),ae=C(Q(J({},Cl),{setup(o){const t=we(),n=te(),r=D(),c=de(),i=L(()=>u=>u.meta.transition),a=A();pe(()=>c.path,()=>{var u,p;(u=a.value)==null||u.setScrollTop(0),(p=a.value)==null||p.update()});const _=C({name:"TransitionMain",props:{route:{type:void 0,required:!0}},render(){var h,v,g;const u=((h=i.value(this.route))==null?void 0:h.name)||n.animateMode,p=(v=i.value(this.route))==null?void 0:v.enterTransition,b=(g=i.value(this.route))==null?void 0:g.leaveTransition;return He(Se,{name:u,enterActiveClass:p?`animate__animated ${p}`:void 0,leaveActiveClass:b?`animate__animated ${b}`:void 0,mode:"out-in",appear:!0},{default:()=>[this.$slots.default()]})}});return(u,p)=>{const b=bt,h=Be("router-view"),v=vt;return d(),M(v,{class:"!p-0 bg-[var(--el-bg-color-page)]"},{default:m(()=>[e(l(G),{ref_key:"scrollbarRef",ref:a},{default:m(()=>[s("div",xl,[e(h,null,{default:m(({Component:g,route:I})=>[e(b,{target:".el-main div .el-scrollbar__wrap",title:"回到顶部"}),e(l(_),{route:I},{default:m(()=>[(d(),M(ft,{include:l(t).cachePages},[l(r).reload?(d(),M(De(g),{key:I.name})):B("",!0)],1032,["include"]))]),_:2},1032,["route"])]),_:1})])]),_:1},512)]),_:1})}}})),kl={class:"fixed left-0 right-0 top-0 bottom-0 bg-black op30 z-9998"},Ml=C({name:"AppMask",__name:"index",setup(o){return(t,n)=>(d(),T("div",kl))}}),$l=C({name:"AppLink"}),Sl=C(Q(J({},$l),{props:{to:{}},setup(o){const t=o,n=L(()=>ge(t.to.name)),r=c=>n.value?{href:c.name,target:"_blank",rel:"noopener"}:{to:c};return(c,i)=>(d(),M(De(n.value?"a":"router-link"),gt(wt(r(c.to))),{default:m(()=>[Ne(c.$slots,"default")]),_:3},16))}})),Tl=C({name:"SubMenu"}),Vl=C(Q(J({},Tl),{props:{item:{type:Object,required:!0},isNest:Re.bool.def(!1),basePath:Re.string.def("")},setup(o){const t=o,n=A(null);function r(i=[],a){var u;const _=i.filter(p=>(n.value=p,!0));return _[0]&&((u=_[0].meta)!=null&&u.showParent)?!1:_.length===1?!0:_.length===0?(n.value=Q(J({},a),{path:"",noShowingChildren:!0}),!0):!1}function c(i){return ge(i)||ge(t.basePath)?i||t.basePath:yt.posix.resolve(t.basePath,i)}return(i,a)=>{const _=P,u=xt,p=Be("SubMenu",!0),b=Ct;return r(o.item.children,o.item)&&(!l(n).children||l(n).noShowingChildren)?(d(),M(Sl,{key:0,to:o.item},{default:m(()=>[e(u,{index:c(l(n).path),class:Y({"submenu-title-noDropdown":!o.isNest})},{title:m(()=>{var h,v;return[s("span",{class:Y(["truncate",!N((h=l(n).meta)==null?void 0:h.icon)&&"pl-7"])},k(l(le)((v=l(n).meta)==null?void 0:v.title)),3)]}),default:m(()=>{var h,v,g;return[N((h=l(n).meta)==null?void 0:h.icon)?(d(),M(_,{key:0,name:N((v=l(n).meta)==null?void 0:v.icon)||((g=o.item.meta)==null?void 0:g.icon),size:16},null,8,["name"])):B("",!0)]}),_:1},8,["index","class"])]),_:1},8,["to"])):(d(),M(b,{key:1,teleported:"",index:c(o.item.path)},{title:m(()=>{var h,v,g,I,$;return[N((h=o.item.meta)==null?void 0:h.icon)?(d(),M(_,{key:0,name:N((v=o.item.meta)==null?void 0:v.icon)||((g=o.item.meta)==null?void 0:g.icon),size:16},null,8,["name"])):B("",!0),s("span",{class:Y(["truncate",!N((I=o.item.meta)==null?void 0:I.icon)&&"pl-7"])},k(l(le)(($=o.item.meta)==null?void 0:$.title)),3)]}),default:m(()=>[(d(!0),T(R,null,U(o.item.children,(h,v)=>(d(),M(p,{key:h.path+v,item:h,"base-path":h.path},null,8,["item","base-path"]))),128))]),_:1},8,["index"]))}}}));function zl(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Object]"&&!Mt(o)}const ee=C({name:"Menu",setup(){const o=D(),t=de(),n=te(),r=we(),c=L(()=>n.layout),i=L(()=>o.isCollapse),a=L(()=>o.isMobile),_=L(()=>l(c)==="horizontal"&&!l(a)?"horizontal":"vertical"),u=L(()=>["horizontal","lattice","mixins"].includes(l(c))?!1:l(i)),p=L(()=>n.menuUnique),{wholeMenus:b}=Ce(r),h=A([]),v=L(()=>["mixins","lattice"].includes(n.layout)&&!l(a)?h.value:b.value),g=L(()=>{const{path:V,meta:S}=t;return S.activeMenu?S.activeMenu:V});function I(){let V="";V=g.value,h.value=[];const S=Ee(V,b.value),f=ke(S[0]||V,b.value);f!=null&&f.children&&(h.value=f==null?void 0:f.children)}function $(V){b.value.length===0||qt.includes(V)}pe(()=>[t.path,r.wholeMenus],()=>{t.path.includes("/redirect")||(I(),$(t.path))}),Te(()=>{I()});const y=()=>{let V;return e(kt,{router:!0,"popper-class":"el-menu-layout-popper","default-active":l(g),mode:l(_),"unique-opened":l(p),collapse:l(u),"collapse-transition":!1},zl(V=v.value.map((S,f)=>e(Vl,{key:S.path+f,item:S,"base-path":S.path},null)))?V:{default:()=>[V]})};return()=>e("div",{class:`el-menu-layout el-menu-layout__${l(_)}`},[y()])}}),Ge=()=>{const o=we(),t=L(()=>o.wholeMenus),{currentRoute:n}=he(),r=A("");function c(a){var _,u;if(ge(a.name)){window.open(a.name);return}return(_=a.children)!=null&&_.length?(u=a.children[0])==null?void 0:u.path:a.path}return{parentRoutes:t,parentPath:r,resolvePath:c,isActive:a=>{const{path:_}=l(n),u=Ee(_,l(t));return r.value=u[0],u[0]===a}}},Ll={class:"h-full"},Il=["onClick"],El={key:0},Pl={class:"text-xs"},Al={class:"ml-2 text-4 text-primary truncate font-bold"},Rl=C({__name:"VerticalMenu",setup(o){const t=A(!1),n="Spyro Admin",{push:r}=he(),{parentRoutes:c,parentPath:i,resolvePath:a,isActive:_}=Ge(),u=()=>Ye.push("/index"),p=h=>{t.value=!0;const v=a(h);l(i)!==h.path&&r(v)},b=()=>{t.value=!1};return(h,v)=>{const g=P,I=G,$=ue;return ne((d(),T("div",Ll,[e($,{class:"aside !w-[var(--left-vertical-menu-width)] !h-full"},{default:m(()=>[s("div",{class:"flex-center shrink-0 h-[var(--logo-height)] w-full nowrap-hidden cursor-pointer",onClick:u},[e(g,{name:"spyro:logo",size:30,color:"var(--el-color-primary)"})]),e(I,null,{default:m(()=>[(d(!0),T(R,null,U(l(c),y=>{var V,S,f;return d(),T("div",{key:y.name,onClick:x=>p(y)},[s("div",{class:Y([{"is-active":l(_)(y.path)},"vertical-menu"])},[N((V=y.meta)==null?void 0:V.icon)?(d(),T("span",El,[e(g,{name:N((S=y.meta)==null?void 0:S.icon)},null,8,["name"])])):B("",!0),s("span",Pl,k(l(le)((f=y.meta)==null?void 0:f.title)),1)],2)],8,Il)}),128))]),_:1}),s("div",{class:Y(["aside-menu",l(l(t))?"w-[var(--left-menu-max-width)] b-r-1":"w-0"])},[s("div",{class:"flex-center shrink-0 bg-[var(--left-menu-bg-color)] h-[var(--logo-height)] w-full nowrap-hidden cursor-pointer",onClick:u},[s("h3",Al,k(l(n)),1)]),e(ee)],2)]),_:1})])),[[l($t),b]])}}}),Ol=X(Rl,[["__scopeId","data-v-843f85e2"]]),Fl={class:"scroll"},Ul={class:"content"},Bl=C({__name:"SoHorizontalScroll",setup(o){St(i=>({"5f39f24a":l(t).height,df6ac77a:l(t).width}));const t=Tt({width:0,height:0}),n=A(),{width:r,height:c}=Vt(n);return zt(()=>{t.width=r.value,t.height=c.value}),(i,a)=>(d(),T("div",{ref_key:"horizontalRef",ref:n,class:"h-full w-full mask-image-left"},[s("div",Fl,[s("div",Ul,[Ne(i.$slots,"default",{},void 0,!0)])])],512))}}),Dl=X(Bl,[["__scopeId","data-v-19071191"]]),Hl={class:"flex-center flex-nowrap w-full h-full"},Nl=["onClick"],jl={key:0},ql={class:"text-sm text-nowrap pl-1"},Wl=C({__name:"HorizontalMenu",setup(o){const{push:t}=he(),{parentRoutes:n,resolvePath:r,isActive:c}=Ge(),i=a=>{const _=r(a);_&&t(_)};return(a,_)=>{const u=P,p=Dl;return d(),M(p,null,{default:m(()=>[s("div",Hl,[(d(!0),T(R,null,U(l(n),b=>{var h,v,g;return d(),T("div",{key:b.name,onClick:I=>i(b)},[s("div",{class:Y([{"is-active":l(c)(b.path)},"flex-center h-[calc(var(--top-header-height)-1px)] cursor-pointer px-5 hover:text-[var(--el-color-primary)] transition"])},[N((h=b.meta)==null?void 0:h.icon)?(d(),T("span",jl,[e(u,{name:N((v=b.meta)==null?void 0:v.icon)},null,8,["name"])])):B("",!0),s("span",ql,k(l(le)((g=b.meta)==null?void 0:g.title)),1)],2)],8,Nl)}),128))])]),_:1})}}}),Yl=X(Wl,[["__scopeId","data-v-684a30ff"]]),Gl=["onClick"],Xl={class:"ml-1 text-xs"},Kl=C({__name:"TabContextMenu",props:{options:{},showContextMenu:{type:Boolean},currTabMenu:{},menuStyle:{}},setup(o){const t=o,n=_e(),r=D(),c=()=>{r.reloadPage()},i=a=>{a==="refresh"?c():n[a](t.currTabMenu)};return(a,_)=>{const u=P;return d(),M(It,{to:"body"},[e(Se,{name:"el-zoom-in-top"},{default:m(()=>[ne(s("div",{class:"context-menu shadow-md",style:Lt(a.menuStyle)},[(d(!0),T(R,null,U(a.options,p=>(d(),T("ul",{key:p.prop,class:"flex-center"},[p.show?(d(),T("li",{key:0,onClick:b=>i(p.prop),class:"flex-center"},[e(u,{name:p.icon,size:14},null,8,["name"]),s("span",Xl,k(p.label),1)],8,Gl)):B("",!0)]))),128))],4),[[me,a.showContextMenu]])]),_:1})])}}}),Jl=X(Kl,[["__scopeId","data-v-b8c3d1cf"]]),Ql={class:"p-2 hover:bg-[var(--el-fill-color)] transition rounded-lg flex-center cursor-pointer"},Zl=C({__name:"TabTools",props:{options:{},currTabMenu:{}},emits:["updateStatus"],setup(o,{emit:t}){const n=o,r=t,c=_e(),i=D(),a=()=>{i.reloadPage()},_=p=>{p==="refresh"?a():c[p](n.currTabMenu)},u=()=>{r("updateStatus")};return(p,b)=>{const h=P,v=Le,g=Ve,I=ze;return d(),M(I,{onCommand:_,onVisibleChange:u},{dropdown:m(()=>[e(g,null,{default:m(()=>[(d(!0),T(R,null,U(p.options,$=>(d(),M(v,{key:$.prop,disabled:$.disabled,command:$.prop},{default:m(()=>[e(h,{name:$.icon},null,8,["name"]),W(" "+k($.label),1)]),_:2},1032,["disabled","command"]))),128))]),_:1})]),default:m(()=>[s("div",Ql,[e(h,{name:"ep:setting",size:20})])]),_:1})}}}),en=["onContextmenu"],tn={class:"pt-1"},ln={class:"pl-2"},nn=C({name:"Tabs"}),on=C(Q(J({},nn),{setup(o){const t=de(),n=he(),r=_e(),c=te(),{tabsMenuList:i}=Ce(r),{tabsHidden:a,tabsIcon:_,tabStyle:u}=Ce(c),{contextMenuOptions:p,showContextMenu:b,clickTabMenu:h,menuClientX:v,menuClientY:g,menuStyle:I,filterTabMenu:$}=Jt();let y=A("");const V=()=>{we().flatMenus.forEach(z=>{var E;if((E=z.meta)!=null&&E.isFixed&&!z.meta.hidden){const H={title:z.meta.title,name:z.name,path:z.path,icon:z.meta.icon,isFixed:z.meta.isFixed};r.addTabs(H)}})},S=()=>{y.value=t.fullPath;const z=t.matched.find(H=>H.path===t.fullPath),E={title:z.meta.title,name:z.name,path:z.path,icon:z.meta.icon,isFixed:z.meta.isFixed};r.addTabs(E)},f=z=>{const E=z.paneName;n.push(E)},x=z=>r.removeTabs(z,z===y.value),K=(z,E,H)=>{z.preventDefault(),$(E,H),v.value=z.clientX,g.value=z.clientY,b.value=!0},fe=()=>{$(y.value,t.meta.isFixed)};return Te(()=>xe(this,null,function*(){yield r.getStorageTabs(),V(),S()})),pe(()=>t.fullPath,()=>{t.fullPath&&S()}),(z,E)=>{const H=P,be=qe,ye=je;return l(a)?(d(),T("div",{key:0,class:Y([`${l(u)}-tabs`,"bg-[var(--el-bg-color)] flex-y-center"])},[e(ye,{modelValue:l(y),"onUpdate:modelValue":E[0]||(E[0]=F=>Ue(y)?y.value=F:y=F),type:"card",class:"w-[calc(100%-40px)]",onTabClick:f,onTabRemove:x},{default:m(()=>[(d(!0),T(R,null,U(l(i),F=>(d(),M(be,{key:F.name,closable:!F.isFixed,name:F.path},{label:m(()=>[s("span",{class:"tab-item flex-center h-full pl-5",onContextmenu:Ie(w=>K(w,F.path,F.isFixed),["prevent"])},[ne(s("div",tn,[F.icon?(d(),M(H,{key:0,name:F.icon,size:16},null,8,["name"])):B("",!0)],512),[[me,l(_)]]),s("span",ln,k(l(le)(F.title)),1)],40,en)]),_:2},1032,["closable","name"]))),128))]),_:1},8,["modelValue"]),e(Zl,{options:l(p),"curr-tab-menu":l(h),onUpdateStatus:fe},null,8,["options","curr-tab-menu"]),e(Jl,{"show-context-menu":l(b),"curr-tab-menu":l(h),options:l(p),"menu-style":l(I)},null,8,["show-context-menu","curr-tab-menu","options","menu-style"])],2)):B("",!0)}}})),se=X(on,[["__scopeId","data-v-38d10cfa"]]),an={key:0,class:"breadcrumb mask-image-right"},sn=["onClick"],rn={class:"pr-1 pt-0.5"},cn=C({__name:"BreadCrumb",setup(o){const t=de(),n=he(),r=te(),c=D(),i=n.options.routes,a=Yt({name:"ep:arrow-right"}),_=L(()=>r.breadcrumbs),u=L(()=>r.breadcrumbsIcon);let p=A([]);const b=()=>{let g=ke(n.currentRoute.value.path,i);const I=Ee(n.currentRoute.value.name,i,"name"),$=[];I.forEach(y=>{y!=="/"&&$.push(ke(y,i))}),$.push(g),$.forEach((y,V)=>{y!=null&&y.children&&y.children.forEach(S=>{var f,x;((f=S==null?void 0:S.meta)==null?void 0:f.title)===((x=y==null?void 0:y.meta)==null?void 0:x.title)&&$.splice(V,1)})}),p.value=$.filter(y=>{var V;return(V=y==null?void 0:y.meta)==null?void 0:V.title})},h=g=>t.path!==g.path&&g.redirect,v=g=>{t.path===g.path||!g.redirect||(g.redirect&&n.push(g.redirect),n.push(g.path))};return pe(()=>t.path,()=>{b()},{immediate:!0}),(g,I)=>{const $=P,y=Pt,V=At;return l(_)&&!l(c).isMobile?(d(),T("div",an,[e(V,{"separator-icon":l(a)},{default:m(()=>[e(Et,{appear:"","enter-active-class":"animate__animated animate__fadeInRight"},{default:m(()=>[(d(!0),T(R,null,U(l(p),S=>(d(),M(y,{key:S.path},{default:m(()=>{var f,x;return[s("div",{class:Y(["breadcrumb-inner",{pointer:h(S)}]),onClick:Ie(K=>v(S),["prevent"])},[ne(s("div",rn,[(f=S.meta)!=null&&f.icon?(d(),M($,{key:0,name:S.meta.icon,size:16},null,8,["name"])):B("",!0)],512),[[me,l(u)]]),s("span",null,k(l(le)((x=S.meta)==null?void 0:x.title)),1)],10,sn)]}),_:2},1024))),128))]),_:1})]),_:1},8,["separator-icon"])])):B("",!0)}}}),Xe=X(cn,[["__scopeId","data-v-f8b0eeb3"]]),ve=C({__name:"CollapseIcon",setup(o){const t=D(),n=L(()=>t.isCollapse?"spyro:align-right":"spyro:align-left"),r=()=>{t.$patch({isCollapse:!t.isCollapse})};return(c,i)=>{const a=P;return d(),T("div",{class:"flex-center p-3 hover:bg-[var(--el-fill-color)] transition rounded-lg cursor-pointer",onClick:r},[e(a,{name:l(n),size:20},null,8,["name"])])}}}),un={class:"flex-center p-3 hover:bg-[var(--el-fill-color)] transition rounded-lg cursor-pointer"},dn=s("span",{class:"ml-2"},"Spyro",-1),pn=C({__name:"ClassicUser",setup(o){const t=r=>{switch(r){case"logout":n();break}},n=()=>xe(this,null,function*(){yield Wt().logoutAction()});return(r,c)=>{const i=We,a=Le,_=Ve,u=ze;return d(),M(u,{trigger:"click",onCommand:t},{dropdown:m(()=>[e(_,null,{default:m(()=>[e(a,{command:"userCenter"},{default:m(()=>[W("个人中心")]),_:1}),e(a,{command:"logout",divided:""},{default:m(()=>[W("退出")]),_:1})]),_:1})]),default:m(()=>[s("span",un,[e(i,{src:l(Gt),class:"shrink-0 !w-5 !h-5"},null,8,["src"]),dn])]),_:1})}}}),mn={class:"flex-y-center h-full overflow-hidden"},Oe=C({__name:"ToolLeft",setup(o){return(t,n)=>(d(),T("div",mn,[e(l(ve)),e(l(Xe))]))}}),hn={class:"flex-center p-3 hover:bg-[var(--el-fill-color)] transition rounded-lg cursor-pointer"},_n={class:"flex-1 w-0"},fn={class:"mr-4 text-14px"},bn={class:"time text-12px text-gray"},vn={class:"truncate"},gn=C({__name:"SystemMessage",setup(o){const t=[{name:"青鸟",datetime:"1小时之前",content:"自行实现跳转到消息页面",avatar:"https://i02piccdn.sogoucdn.com/bf0bd2fe74335857"},{name:"原神怎么你了",datetime:"2小时之前",content:"关注了你",avatar:"https://i04piccdn.sogoucdn.com/17d017c1d7478379"},{name:"我可莉害了",datetime:"2个半小时之前",content:"收藏了你的文章",avatar:"https://i02piccdn.sogoucdn.com/3511ebcfa16882d6"}];return(n,r)=>{const c=P,i=Rt,a=qe,_=je,u=We,p=Ot;return d(),M(p,{ref:"popover",trigger:"hover",placement:"bottom-end",width:"250"},{reference:m(()=>[s("div",hn,[e(i,{value:3,max:99,class:"h-5"},{default:m(()=>[e(c,{name:"spyro:bell",size:20})]),_:1})])]),default:m(()=>[e(_,{"model-value":"1"},{default:m(()=>[e(a,{label:"通知(1)",name:"1"}),e(a,{label:"关注(1)",name:"2"}),e(a,{label:"代办(1)",name:"3"})]),_:1}),s("section",null,[(d(),T(R,null,U(t,(b,h)=>s("div",{key:h,class:"flex mb-5"},[e(u,{class:"w-10 h-10 rounded-full mr-4 shrink-0",src:b.avatar},null,8,["src"]),s("div",_n,[s("div",null,[s("span",fn,k(b.name),1),s("span",bn,k(b.datetime),1)]),s("div",vn,k(b.content),1)])])),64))])]),_:1},512)}}}),wn={class:"flex-center p-3 hover:bg-[var(--el-fill-color)] transition rounded-lg cursor-pointer"},yn=C({__name:"Language",setup(o){const{locale:t,t:n}=Ft(),r=D(),c=a=>{t.value=a,r.setLanguage(a),Ut.success(n("common.switchLanguage"))},i=L(()=>r.language==="en");return(a,_)=>{const u=P,p=Le,b=Ve,h=ze,v=q;return d(),M(v,{effect:"dark",content:"语言切换",placement:"left"},{default:m(()=>[e(h,{trigger:"click",onCommand:c},{dropdown:m(()=>[e(b,null,{default:m(()=>[e(p,{command:"zh-CN",disabled:!l(i)},{default:m(()=>[W("简体中文")]),_:1},8,["disabled"]),e(p,{command:"en",disabled:l(i)},{default:m(()=>[W("English")]),_:1},8,["disabled"])]),_:1})]),default:m(()=>[s("div",wn,[e(u,{name:"spyro:language",size:20})])]),_:1})]),_:1})}}}),xn={},Cn={class:"flex-center p-3 hover:bg-[var(--el-fill-color)] transition rounded-lg cursor-pointer"};function kn(o,t){const n=P,r=q;return d(),M(r,{effect:"dark",content:"搜索",placement:"bottom"},{default:m(()=>[s("div",Cn,[e(n,{name:"spyro:search",size:20})])]),_:1})}const Mn=X(xn,[["render",kn]]),$n=C({__name:"FullScreen",setup(o){const{isFullscreen:t,enter:n,exit:r}=Bt(),c=L(()=>t.value?"spyro:fullscreen-exit":"spyro:fullscreen"),i=()=>t.value?r():n();return(a,_)=>{const u=P,p=q;return d(),M(p,{effect:"dark",content:"全屏",placement:"bottom"},{default:m(()=>[s("div",{class:"flex-center p-3 hover:bg-[var(--el-fill-color)] transition rounded-lg cursor-pointer",onClick:i},[e(u,{name:l(c),size:20},null,8,["name"])])]),_:1})}}}),Sn=C({__name:"SystemConfig",setup(o){const t=()=>Me.emit("OpenSystemConfig");return(n,r)=>{const c=P,i=q;return d(),M(i,{effect:"dark",content:"主题",placement:"bottom"},{default:m(()=>[s("div",{class:"flex-center p-3 hover:bg-[var(--el-fill-color)] transition rounded-lg cursor-pointer",onClick:t},[e(c,{name:"line-md:heart",size:20})])]),_:1})}}}),Tn={class:"flex-y-center h-full"},re=C({__name:"ToolRight",setup(o){return(n,r)=>(d(),T("div",Tn,[e(Mn),e(yn),e($n),e(gn),l(!1)?(d(),M(Sn,{key:0})):B("",!0),e(pn)]))}}),Ke="Spyro Admin",Je=D(),O=L(()=>Je.isMobile),$e=L(()=>Je.isCollapse),ce=L(()=>l(O)?l($e)?"!w-0":"!w-[var(--left-menu-max-width)]":l($e)?"!w-[var(--left-menu-min-width)]":"!w-[var(--left-menu-max-width)]"),Qe=()=>Ye.push("/index"),Z=()=>e("div",{class:"flex-center shrink-0 h-[var(--logo-height)] w-full nowrap-hidden cursor-pointer",onClick:Qe},[e(P,{name:"spyro:logo",size:30,color:"var(--el-color-primary)"},null),e("h3",{class:"ml-2 text-4 text-primary truncate font-bold"},[Ke])]),ie="flex-col-stretch bg-[var(--left-menu-bg-color)] py-1 border-r-1 border-solid border-[var(--el-color-info-light-8)] transition-width duration-300",Fe="w-full !h-[var(--top-header-height)] flex-y-center justify-between border-b-1 border-solid border-[var(--el-color-info-light-8)] !p-x-2 bg-[var(--el-bg-color)]",Vn=()=>({LayoutVertical:()=>e(R,null,[e(ue,{class:[ie,l(ce),{"p-0 !b-0 fixed top-0 bottom-0 left-0 z-9999":l(O)}]},{default:()=>[e("div",{class:"flex-center shrink-0 h-[var(--top-header-height)] w-full nowrap-hidden cursor-pointer",onClick:Qe},[e(P,{name:"spyro:logo",size:30,color:"var(--el-color-primary)"},null),l($e)?void 0:e("h3",{class:"ml-2 text-4 text-primary truncate font-bold"},[Ke])]),e(G,{"wrap-class":"scrollbar-wrapper"},{default:()=>[e(ee,null,null)]})]}),e(j,{direction:"vertical",class:"relative"},{default:()=>[e(oe,{class:Fe},{default:()=>[e(Oe,null,null),e(re,null,null)]}),e(se,null,null),e(ae,null,null)]})]),LayoutBasic:()=>e("div",{class:"w-full"},[e("div",{class:"flex justify-between h-[var(--top-header-height)] !p-0 border-b-1 border-[var(--el-color-info-light-8)]"},[l(O)?void 0:e(Z,{class:"!w-[var(--left-menu-max-width)]"},null),e(oe,{class:[l(O)?"!w-full":"!w-[calc(100%-var(--left-menu-max-width))]",Fe]},{default:()=>[e(Oe,null,null),e(re,null,null)]})]),e(j,{class:"relative !h-[calc(100%-var(--top-header-height))]"},{default:()=>[e(ue,{class:[ie,l(ce),{"p-0 !b-0 fixed top-0 bottom-0 left-0 z-9999":l(O)}]},{default:()=>[l(O)?e(Z,null,null):void 0,e(G,{"wrap-class":"scrollbar-wrapper"},{default:()=>[e(ee,null,null)]})]}),e(j,{direction:"vertical"},{default:()=>[e(se,null,null),e(ae,null,null)]})]})]),LayoutHorizontal:()=>e("div",{class:"w-full"},[l(O)?e(ue,{class:[ie,l(ce),"p-0 !b-0 fixed top-0 bottom-0 left-0 z-9999"]},{default:()=>[e(Z,null,null),e(G,{"wrap-class":"scrollbar-wrapper"},{default:()=>[e(ee,null,null)]})]}):void 0,e(oe,{class:"flex-between !h-[var(--top-header-height)] !p-0 border-b-1 border-[var(--el-color-info-light-8)]"},{default:()=>[l(O)?e(ve,null,null):e(R,null,[e(Z,{class:"!w-[var(--left-menu-max-width)]"},null),e(ee,{class:"flex-1 overflow-hidden"},null)]),e(re,{class:"!px-2"},null)]}),e(j,{direction:"vertical",class:"relative !h-[calc(100%-var(--top-header-height))]"},{default:()=>[e(se,null,null),e(ae,null,null)]})]),LayoutLattice:()=>e(R,null,[l(O)?e("div",{class:[ie,l(ce),"p-0 !b-0 fixed top-0 bottom-0 left-0 z-9999"]},[e(Z,null,null),e(G,{"wrap-class":"scrollbar-wrapper"},{default:()=>[e(ee,null,null)]})]):void 0,l(O)?void 0:e(Ol,null,null),e(j,{direction:"vertical",class:"relative "},{default:()=>[e(oe,{class:"flex-between !h-[var(--top-header-height)] !px-2 border-b-1 border-[var(--el-color-info-light-8)]"},{default:()=>[l(O)?e(ve,null,null):e(Xe,null,null),e(re,null,null)]}),e(j,{direction:"vertical",class:"relative !h-[calc(100%-var(--top-header-height))]"},{default:()=>[e(se,null,null),e(ae,null,null)]})]})]),LayoutMixins:()=>e("div",{class:"w-full"},[e(oe,{class:"flex-between !h-[var(--top-header-height)] !p-0 border-b-1 border-[var(--el-color-info-light-8)]"},{default:()=>[l(O)?e(ve,null,null):e("div",{class:"flex-center h-full w-full"},[e(Z,{class:"!w-[var(--left-menu-max-width)]"},null),e(Yl,null,null)]),e(re,{class:"!px-2"},null)]}),e(j,{class:"relative !h-[calc(100%-var(--top-header-height))]"},{default:()=>[e(ue,{class:[ie,l(ce),{"p-0 !b-0 fixed top-0 bottom-0 left-0 z-9999":l(O)}]},{default:()=>[l(O)?e(Z,null,null):void 0,e(G,{"wrap-class":"scrollbar-wrapper"},{default:()=>[e(ee,null,null)]})]}),e(j,{direction:"vertical",class:"relative"},{default:()=>[e(se,null,null),e(ae,null,null)]})]})])});function zn(){const o=D(),t=Ht(Nt),n=l(t.smaller("sm"));return o.$patch({isCollapse:n}),o.$patch({isMobile:n}),n}function Ln(o){zn();const t=D();Dt(o,n=>{const{width:r}=n[0].contentRect;r<=768&&r>640?!t.isCollapse&&t.$patch({isCollapse:!0}):r<=640?(!t.isMobile&&t.$patch({isMobile:!0}),!t.isCollapse&&t.$patch({isCollapse:!0})):(t.isMobile&&t.$patch({isMobile:!1}),t.isMobile&&t.$patch({isCollapse:!1}))})}const Bn=C({name:"Layout",__name:"index",setup(o){const t=A(),n=D(),r=te(),c=L(()=>n.isMobile&&!n.isCollapse),i=()=>n.$patch({isCollapse:!0});Ln(t);const{LayoutVertical:a,LayoutBasic:_,LayoutHorizontal:u,LayoutLattice:p,LayoutMixins:b}=Vn(),h=()=>{switch(l(r.layout)){case"vertical":return a();case"basic":return _();case"horizontal":return u();case"lattice":return p();case"mixins":return b()}},v=C({name:"LayoutModel",render(){return He(h())}});return(g,I)=>{const $=j;return d(),T(R,null,[e($,{class:"h-full",ref_key:"containerRef",ref:t},{default:m(()=>[ne(e(l(Ml),{onClick:Ie(i,["prevent"])},null,512),[[me,l(c)]]),e(l(v))]),_:1},512),e(yl)],64)}}});export{Bn as default};
